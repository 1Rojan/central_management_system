{% extends './base.html' %}

{% block content %}
    <main>
      <div class="py-5 text-center">
        <h2>Central Management System</h2>
      </div>
  
      <div class="row g-5">
        <div class="col-md-8 col-lg-12 mx-auto">
          <!-- <a href="{% url 'server_list' %}" style="text-decoration: none;"> <h4 class="mb-3">Server List</h4> </a> -->
          <a href="{% url 'add_server' %}"><button class="btn btn-primary mb-3 ml-5">Add</button></a>
          <form class="row g-3" method="POST" action='{% url "search_server" %}'>
            {% csrf_token %}
            
            <div class="col-auto">
              <input type="text" class="form-control" id="" placeholder="Search" name="search_key">
            </div>
            <div class="col-auto">
              <button type="submit" class="btn btn-primary mb-3">Search</button>
            </div>
            
            <div class="col-auto">
              <h4 class="d-flex justify-content-between align-items-center mb-3">
               
              </h4>
              
            </div>
          </form>
          <table class="table table-hover">
            <thead>
              <tr>
                <th scope="col">#</th>
                <th scope="col">Name</th>
                <th scope="col">Server Type</th>
                <th scope="col">Public Ip</th>
                <th scope="col">Username</th>
                <th scope="col" colspan="3">Action</th>
              </tr>
            </thead>
            <tbody>
              {% for server in servers %}
                <tr>
                    <th scope="row">{{server.id}}</th>
                    <td>{{server.name}}</td>
                    <td>{{server.server_type}}</td>
                    <td>{{server.public_ip}}</td>
                    <td>{{server.username}}</td>
                    <td>
                      <a href="{% url 'server_detail' server.id %}"><button class="btn btn-sm btn-outline-secondary">View</button></a>
                      <a href="{% url 'update_server' server.id %}"><button class="btn btn-sm btn-outline-primary">Edit</button></a>
                      <a href="{% url 'delete_server' server.id %}"><button class="btn btn-sm btn-outline-danger">Delete</button></a>
                    </td>
                  </a>
                </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </main>
  
    <footer class="my-5 pt-5 text-muted text-center text-small">
      <p class="mb-1">&copy; CMS</p>
      <ul class="list-inline">
        <li class="list-inline-item"><a href="#">Privacy</a></li>
        <li class="list-inline-item"><a href="#">Terms</a></li>
        <li class="list-inline-item"><a href="#">Support</a></li>
      </ul>
    </footer>
  
  
      <script src="/docs/5.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
  
        <script src="form-validation.js"></script>
{% endblock %}